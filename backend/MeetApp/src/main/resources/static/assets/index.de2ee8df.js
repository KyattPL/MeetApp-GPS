import{S as A,i as L,s as O,l as T,m as b,n as H,o as v,a as S,p as k,q as P,w as j,b as g,g as C,c as I,t as d,d as M,v as w,ab as q,f as B,P as y}from"./index.065195ac.js";import{A as F}from"./AnnouncementListElem.649220f4.js";import{E as G}from"./EventListElem.233897a4.js";import{H as N}from"./Header.66cf0db7.js";import{M as z}from"./MeetingListElem.6efa2d22.js";import{M as J,P as K}from"./PostToolbar.fdbb5496.js";import{e as Q}from"./fetchWrapper.5ae2c67b.js";import"./Button.c262fd29.js";import"./stores.b0f999d8.js";import"./MdPeople.3e18b6bf.js";import"./MdAccessTime.408586db.js";import"./MdNotificationsActive.0ae44f08.js";import"./MdNotificationsOff.a9fa8f59.js";import"./MdDelete.18197c90.js";import"./MdEdit.7d5160f0.js";function D(n,s,r){const i=n.slice();return i[12]=s[r],i}function R(n){let s,r;function i(){return n[10](n[12])}return s=new F({props:{data:n[12],areDetailsShown:n[1]===n[12].id,clickHandler:i}}),{c(){b(s.$$.fragment)},m(e,f){k(s,e,f),r=!0},p(e,f){n=e;const l={};f&1&&(l.data=n[12]),f&3&&(l.areDetailsShown=n[1]===n[12].id),f&1&&(l.clickHandler=i),s.$set(l)},i(e){r||(g(s.$$.fragment,e),r=!0)},o(e){d(s.$$.fragment,e),r=!1},d(e){w(s,e)}}}function U(n){let s,r;function i(){return n[9](n[12])}return s=new z({props:{data:n[12],areDetailsShown:n[1]===n[12].id,clickHandler:i}}),{c(){b(s.$$.fragment)},m(e,f){k(s,e,f),r=!0},p(e,f){n=e;const l={};f&1&&(l.data=n[12]),f&3&&(l.areDetailsShown=n[1]===n[12].id),f&1&&(l.clickHandler=i),s.$set(l)},i(e){r||(g(s.$$.fragment,e),r=!0)},o(e){d(s.$$.fragment,e),r=!1},d(e){w(s,e)}}}function V(n){let s,r;function i(){return n[8](n[12])}return s=new G({props:{data:n[12],clickHandler:i}}),{c(){b(s.$$.fragment)},m(e,f){k(s,e,f),r=!0},p(e,f){n=e;const l={};f&1&&(l.data=n[12]),f&5&&(l.clickHandler=i),s.$set(l)},i(e){r||(g(s.$$.fragment,e),r=!0)},o(e){d(s.$$.fragment,e),r=!1},d(e){w(s,e)}}}function E(n){let s,r,i,e,f,l,m;const $=[V,U,R],p=[];function _(t,c){return c&1&&(s=null),c&1&&(r=null),s==null&&(s=t[4](t[12])==="events"),s?0:(r==null&&(r=t[4](t[12])==="meetings"),r?1:2)}return i=_(n,-1),e=p[i]=$[i](n),l=new K({props:{postId:n[12].id,postType:n[4](n[12]),isPostActive:!1,updatePosts:n[5]}}),{c(){e.c(),f=H(),b(l.$$.fragment)},m(t,c){p[i].m(t,c),S(t,f,c),k(l,t,c),m=!0},p(t,c){let a=i;i=_(t,c),i===a?p[i].p(t,c):(C(),d(p[a],1,1,()=>{p[a]=null}),I(),e=p[i],e?e.p(t,c):(e=p[i]=$[i](t),e.c()),g(e,1),e.m(f.parentNode,f));const u={};c&1&&(u.postId=t[12].id),c&1&&(u.postType=t[4](t[12])),l.$set(u)},i(t){m||(g(e),g(l.$$.fragment,t),m=!0)},o(t){d(e),d(l.$$.fragment,t),m=!1},d(t){p[i].d(t),t&&M(f),w(l,t)}}}function W(n){let s,r,i,e,f,l,m,$,p;r=new N({});let _=n[0],t=[];for(let a=0;a<_.length;a+=1)t[a]=E(D(n,_,a));const c=a=>d(t[a],1,1,()=>{t[a]=null});return l=new J({props:{pageType:"inactive"}}),{c(){s=T("div"),b(r.$$.fragment),i=H(),e=T("div");for(let a=0;a<t.length;a+=1)t[a].c();f=H(),b(l.$$.fragment),v(e,"class","h-[calc(100%-8rem)] lg:h-[calc(100%-4rem)] lg:w-1/2 lg:mx-auto overflow-auto"),v(e,"id","postsContainer"),v(s,"class","h-screen")},m(a,u){S(a,s,u),k(r,s,null),P(s,i),P(s,e);for(let o=0;o<t.length;o+=1)t[o].m(e,null);P(s,f),k(l,s,null),m=!0,$||(p=j(e,"scroll",n[6]),$=!0)},p(a,[u]){if(u&63){_=a[0];let o;for(o=0;o<_.length;o+=1){const h=D(a,_,o);t[o]?(t[o].p(h,u),g(t[o],1)):(t[o]=E(h),t[o].c(),g(t[o],1),t[o].m(e,null))}for(C(),o=_.length;o<t.length;o+=1)c(o);I()}},i(a){if(!m){g(r.$$.fragment,a);for(let u=0;u<_.length;u+=1)g(t[u]);g(l.$$.fragment,a),m=!0}},o(a){d(r.$$.fragment,a),t=t.filter(Boolean);for(let u=0;u<t.length;u+=1)d(t[u]);d(l.$$.fragment,a),m=!1},d(a){a&&M(s),w(r),q(t,a),w(l),$=!1,p()}}}function X(n,s,r){let i;B(n,y,o=>r(2,i=o));let e=[],f=null,l=0;const m=o=>{f!==o?r(1,f=o):r(1,f=null)},$=o=>{Q(`users/postsInactive?page=${o}`,"GET").then(h=>h.json()).then(h=>r(0,e=[...e,...h]))},p=o=>Object.hasOwn(o,"startDateTime")?"events":Object.hasOwn(o,"meetingDateTime")?"meetings":"announcements",_=o=>{o.then(h=>r(0,e=h))},t=()=>{const o=document.getElementById("postsContainer");o.offsetHeight+o.scrollTop===o.scrollHeight&&r(7,l=l+1)},c=o=>i(`/events/${o.id}`),a=o=>m(o.id),u=o=>m(o.id);return n.$$.update=()=>{n.$$.dirty&128&&$(l)},[e,f,i,m,p,_,t,l,c,a,u]}class me extends A{constructor(s){super(),L(this,s,X,W,O,{})}}export{me as default};
