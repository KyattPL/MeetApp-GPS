import{S as q,i as B,s as I,l as S,m as b,n as E,o as H,a as A,p as k,q as D,w as y,b as h,g as L,c as O,t as $,d as j,v as w,ab as F,f as T,r as G,P as N}from"./index.bbf58455.js";import{A as z}from"./AnnouncementListElem.4560a917.js";import{E as J}from"./EventListElem.b1c94533.js";import{H as K}from"./Header.bd612d44.js";import{M as Q}from"./MeetingListElem.3b11b779.js";import{M as R,P as U}from"./PostToolbar.9b52547c.js";import{e as V}from"./fetchWrapper.486a233b.js";import{u as W}from"./stores.9997745d.js";import"./Button.ee990144.js";import"./MdPeople.19e670e2.js";import"./MdAccessTime.3b82257a.js";import"./MdNotificationsActive.2c46785b.js";import"./MdNotificationsOff.fdec753d.js";import"./MdDelete.2ea96a64.js";import"./MdEdit.a69e5640.js";function C(n,r,s){const i=n.slice();return i[14]=r[s],i}function X(n){let r,s;function i(){return n[10](n[14])}return r=new z({props:{data:n[14],areDetailsShown:n[1]===n[14].id,clickHandler:i}}),{c(){b(r.$$.fragment)},m(e,a){k(r,e,a),s=!0},p(e,a){n=e;const o={};a&1&&(o.data=n[14]),a&3&&(o.areDetailsShown=n[1]===n[14].id),a&1&&(o.clickHandler=i),r.$set(o)},i(e){s||(h(r.$$.fragment,e),s=!0)},o(e){$(r.$$.fragment,e),s=!1},d(e){w(r,e)}}}function Y(n){let r,s;function i(){return n[9](n[14])}return r=new Q({props:{data:n[14],areDetailsShown:n[1]===n[14].id,clickHandler:i}}),{c(){b(r.$$.fragment)},m(e,a){k(r,e,a),s=!0},p(e,a){n=e;const o={};a&1&&(o.data=n[14]),a&3&&(o.areDetailsShown=n[1]===n[14].id),a&1&&(o.clickHandler=i),r.$set(o)},i(e){s||(h(r.$$.fragment,e),s=!0)},o(e){$(r.$$.fragment,e),s=!1},d(e){w(r,e)}}}function Z(n){let r,s;function i(){return n[8](n[14])}return r=new J({props:{data:n[14],clickHandler:i}}),{c(){b(r.$$.fragment)},m(e,a){k(r,e,a),s=!0},p(e,a){n=e;const o={};a&1&&(o.data=n[14]),a&5&&(o.clickHandler=i),r.$set(o)},i(e){s||(h(r.$$.fragment,e),s=!0)},o(e){$(r.$$.fragment,e),s=!1},d(e){w(r,e)}}}function M(n){let r,s,i,e,a,o,_;const d=[Z,Y,X],p=[];function g(t,m){return m&1&&(r=null),m&1&&(s=null),r==null&&(r=t[4](t[14])==="events"),r?0:(s==null&&(s=t[4](t[14])==="meetings"),s?1:2)}return i=g(n,-1),e=p[i]=d[i](n),o=new U({props:{postId:n[14].id,postType:n[4](n[14]),isPostActive:!0,updatePosts:n[5]}}),{c(){e.c(),a=E(),b(o.$$.fragment)},m(t,m){p[i].m(t,m),A(t,a,m),k(o,t,m),_=!0},p(t,m){let l=i;i=g(t,m),i===l?p[i].p(t,m):(L(),$(p[l],1,1,()=>{p[l]=null}),O(),e=p[i],e?e.p(t,m):(e=p[i]=d[i](t),e.c()),h(e,1),e.m(a.parentNode,a));const c={};m&1&&(c.postId=t[14].id),m&1&&(c.postType=t[4](t[14])),o.$set(c)},i(t){_||(h(e),h(o.$$.fragment,t),_=!0)},o(t){$(e),$(o.$$.fragment,t),_=!1},d(t){p[i].d(t),t&&j(a),w(o,t)}}}function x(n){let r,s,i,e,a,o,_,d,p;s=new K({});let g=n[0],t=[];for(let l=0;l<g.length;l+=1)t[l]=M(C(n,g,l));const m=l=>$(t[l],1,1,()=>{t[l]=null});return o=new R({props:{pageType:"active"}}),{c(){r=S("div"),b(s.$$.fragment),i=E(),e=S("div");for(let l=0;l<t.length;l+=1)t[l].c();a=E(),b(o.$$.fragment),H(e,"class","h-[calc(100%-8rem)] lg:h-[calc(100%-4rem)] lg:w-1/2 lg:mx-auto overflow-auto"),H(e,"id","postsContainer"),H(r,"class","h-screen")},m(l,c){A(l,r,c),k(s,r,null),D(r,i),D(r,e);for(let u=0;u<t.length;u+=1)t[u].m(e,null);D(r,a),k(o,r,null),_=!0,d||(p=y(e,"scroll",n[6]),d=!0)},p(l,[c]){if(c&63){g=l[0];let u;for(u=0;u<g.length;u+=1){const P=C(l,g,u);t[u]?(t[u].p(P,c),h(t[u],1)):(t[u]=M(P),t[u].c(),h(t[u],1),t[u].m(e,null))}for(L(),u=g.length;u<t.length;u+=1)m(u);O()}},i(l){if(!_){h(s.$$.fragment,l);for(let c=0;c<g.length;c+=1)h(t[c]);h(o.$$.fragment,l),_=!0}},o(l){$(s.$$.fragment,l),t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)$(t[c]);$(o.$$.fragment,l),_=!1},d(l){l&&j(r),w(s),F(t,l),w(o),d=!1,p()}}}function ee(n,r,s){let i,e,a;T(n,G,f=>s(11,i=f)),T(n,W,f=>s(12,e=f)),T(n,N,f=>s(2,a=f));let o=[],_=null,d=0;e===null&&i("/login");const p=f=>{_!==f?s(1,_=f):s(1,_=null)},g=f=>{V(`users/posts?page=${f}`,"GET").then(v=>v.json()).then(v=>s(0,o=[...o,...v]))},t=f=>Object.hasOwn(f,"startDateTime")?"events":Object.hasOwn(f,"meetingDateTime")?"meetings":"announcements",m=f=>{f.then(v=>s(0,o=v))},l=()=>{const f=document.getElementById("postsContainer");f.offsetHeight+f.scrollTop===f.scrollHeight&&s(7,d=d+1)},c=f=>a(`/events/${f.id}`),u=f=>p(f.id),P=f=>p(f.id);return n.$$.update=()=>{n.$$.dirty&128&&g(d)},[o,_,a,p,t,m,l,d,c,u,P]}class de extends q{constructor(r){super(),B(this,r,ee,x,I,{})}}export{de as default};
