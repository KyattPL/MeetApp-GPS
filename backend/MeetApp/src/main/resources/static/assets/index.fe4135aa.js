import{S as q,i as B,s as I,e as S,c as k,d as E,f as P,g as A,m as b,h as D,w as y,t as h,k as L,n as O,l as $,o as j,p as w,ab as z,q as T,z as F,Q as G}from"./index.1aa523d1.js";import{A as N}from"./AnnouncementListElem.19a78d41.js";import{E as Q}from"./EventListElem.bb0ecc8e.js";import{H as J}from"./Header.a27adc45.js";import{M as K}from"./MeetingListElem.d0d6cc5f.js";import{M as R,P as U}from"./PostToolbar.e4a7f919.js";import{e as V}from"./fetchWrapper.5ae2c67b.js";import{u as W}from"./stores.43859d43.js";import"./Button.f40e2aed.js";import"./MdPeople.564155c6.js";import"./MdAccessTime.214580cc.js";import"./MdNotificationsActive.b168d055.js";import"./MdNotificationsOff.b66a5b08.js";import"./MdDelete.d82d83ae.js";import"./MdEdit.942846a3.js";function C(n,r,s){const i=n.slice();return i[14]=r[s],i}function X(n){let r,s;function i(){return n[10](n[14])}return r=new N({props:{data:n[14],areDetailsShown:n[1]===n[14].id,clickHandler:i}}),{c(){k(r.$$.fragment)},m(e,a){b(r,e,a),s=!0},p(e,a){n=e;const o={};a&1&&(o.data=n[14]),a&3&&(o.areDetailsShown=n[1]===n[14].id),a&1&&(o.clickHandler=i),r.$set(o)},i(e){s||(h(r.$$.fragment,e),s=!0)},o(e){$(r.$$.fragment,e),s=!1},d(e){w(r,e)}}}function Y(n){let r,s;function i(){return n[9](n[14])}return r=new K({props:{data:n[14],areDetailsShown:n[1]===n[14].id,clickHandler:i}}),{c(){k(r.$$.fragment)},m(e,a){b(r,e,a),s=!0},p(e,a){n=e;const o={};a&1&&(o.data=n[14]),a&3&&(o.areDetailsShown=n[1]===n[14].id),a&1&&(o.clickHandler=i),r.$set(o)},i(e){s||(h(r.$$.fragment,e),s=!0)},o(e){$(r.$$.fragment,e),s=!1},d(e){w(r,e)}}}function Z(n){let r,s;function i(){return n[8](n[14])}return r=new Q({props:{data:n[14],clickHandler:i}}),{c(){k(r.$$.fragment)},m(e,a){b(r,e,a),s=!0},p(e,a){n=e;const o={};a&1&&(o.data=n[14]),a&5&&(o.clickHandler=i),r.$set(o)},i(e){s||(h(r.$$.fragment,e),s=!0)},o(e){$(r.$$.fragment,e),s=!1},d(e){w(r,e)}}}function M(n){let r,s,i,e,a,o,_;const d=[Z,Y,X],p=[];function g(t,m){return m&1&&(r=null),m&1&&(s=null),r==null&&(r=t[4](t[14])==="events"),r?0:(s==null&&(s=t[4](t[14])==="meetings"),s?1:2)}return i=g(n,-1),e=p[i]=d[i](n),o=new U({props:{postId:n[14].id,postType:n[4](n[14]),isPostActive:!0,updatePosts:n[5]}}),{c(){e.c(),a=E(),k(o.$$.fragment)},m(t,m){p[i].m(t,m),A(t,a,m),b(o,t,m),_=!0},p(t,m){let l=i;i=g(t,m),i===l?p[i].p(t,m):(L(),$(p[l],1,1,()=>{p[l]=null}),O(),e=p[i],e?e.p(t,m):(e=p[i]=d[i](t),e.c()),h(e,1),e.m(a.parentNode,a));const c={};m&1&&(c.postId=t[14].id),m&1&&(c.postType=t[4](t[14])),o.$set(c)},i(t){_||(h(e),h(o.$$.fragment,t),_=!0)},o(t){$(e),$(o.$$.fragment,t),_=!1},d(t){p[i].d(t),t&&j(a),w(o,t)}}}function x(n){let r,s,i,e,a,o,_,d,p;s=new J({});let g=n[0],t=[];for(let l=0;l<g.length;l+=1)t[l]=M(C(n,g,l));const m=l=>$(t[l],1,1,()=>{t[l]=null});return o=new R({props:{pageType:"active"}}),{c(){r=S("div"),k(s.$$.fragment),i=E(),e=S("div");for(let l=0;l<t.length;l+=1)t[l].c();a=E(),k(o.$$.fragment),P(e,"class","h-[calc(100%-8rem)] lg:h-[calc(100%-4rem)] lg:w-1/2 lg:mx-auto overflow-auto"),P(e,"id","postsContainer"),P(r,"class","h-screen")},m(l,c){A(l,r,c),b(s,r,null),D(r,i),D(r,e);for(let u=0;u<t.length;u+=1)t[u].m(e,null);D(r,a),b(o,r,null),_=!0,d||(p=y(e,"scroll",n[6]),d=!0)},p(l,[c]){if(c&63){g=l[0];let u;for(u=0;u<g.length;u+=1){const H=C(l,g,u);t[u]?(t[u].p(H,c),h(t[u],1)):(t[u]=M(H),t[u].c(),h(t[u],1),t[u].m(e,null))}for(L(),u=g.length;u<t.length;u+=1)m(u);O()}},i(l){if(!_){h(s.$$.fragment,l);for(let c=0;c<g.length;c+=1)h(t[c]);h(o.$$.fragment,l),_=!0}},o(l){$(s.$$.fragment,l),t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)$(t[c]);$(o.$$.fragment,l),_=!1},d(l){l&&j(r),w(s),z(t,l),w(o),d=!1,p()}}}function ee(n,r,s){let i,e,a;T(n,F,f=>s(11,i=f)),T(n,W,f=>s(12,e=f)),T(n,G,f=>s(2,a=f));let o=[],_=null,d=0;e===null&&i("/login");const p=f=>{_!==f?s(1,_=f):s(1,_=null)},g=f=>{V(`users/posts?page=${f}`,"GET").then(v=>v.json()).then(v=>s(0,o=[...o,...v]))},t=f=>Object.hasOwn(f,"startDateTime")?"events":Object.hasOwn(f,"meetingDateTime")?"meetings":"announcements",m=f=>{f.then(v=>s(0,o=v))},l=()=>{const f=document.getElementById("postsContainer");f.offsetHeight+f.scrollTop===f.scrollHeight&&s(7,d=d+1)},c=f=>a(`/events/${f.id}`),u=f=>p(f.id),H=f=>p(f.id);return n.$$.update=()=>{n.$$.dirty&128&&g(d)},[o,_,a,p,t,m,l,d,c,u,H]}class de extends q{constructor(r){super(),B(this,r,ee,x,I,{})}}export{de as default};
