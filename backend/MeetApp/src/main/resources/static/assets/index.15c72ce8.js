import{S as Q,i as W,s as Y,ad as Z,e as k,c as H,d as j,f as $,g as S,m as v,h as z,w as J,t as d,k as q,l as y,n as G,ae as ee,o as C,p as I,q as M,u as te,v as ne,af as oe,ag as ae,r as _,M as le,ab as se}from"./index.e09e4316.js";import{A as re}from"./AddPostButton.305e4154.js";import{A as ie}from"./AnnouncementListElem.0d57a729.js";import{F as ce}from"./Footer.03a5d8bf.js";import{H as ue,f as pe}from"./Header.ad3cb4cf.js";import{H as K}from"./HelpButton.adf0017b.js";import{S as fe,a as me}from"./SortFilterColumn.2875be2e.js";import{e as de}from"./fetchWrapper.5ae2c67b.js";import{c as we,n as ge,b as ze,f as ye,d as be,u as _e}from"./stores.2c74be88.js";import"./MdAdd.5843c894.js";import"./Button.4ede5430.js";import"./MdDelete.64899f68.js";import"./SelectablePill.ab435ea4.js";import"./Svelecte.b63c741d.js";function V(o,e,n){const a=o.slice();return a[19]=e[n],a}function X(o){let e,n,a,t,s,l,r,c,p;return{c(){e=k("div"),n=k("p"),a=te(o[1]),t=j(),s=k("button"),s.textContent="X",$(n,"class","w-full text-center text-ivory self-center"),$(s,"class","text-ivory font-bold"),$(e,"class","flex flex-row bg-pine w-72 h-16 m-auto rounded p-4 absolute bottom-8 right-8")},m(g,b){S(g,e,b),z(e,n),z(n,a),z(e,t),z(e,s),r=!0,c||(p=J(s,"click",o[14]),c=!0)},p(g,b){(!r||b&2)&&ne(a,g[1])},i(g){r||(l&&l.end(1),r=!0)},o(g){l=oe(e,pe,{delay:50,duration:300}),r=!1},d(g){g&&C(e),g&&l&&l.end(),c=!1,p()}}}function he(o){return{c:_,m:_,p:_,i:_,o:_,d:_}}function ke(o){let e,n,a=o[2],t=[];for(let l=0;l<a.length;l+=1)t[l]=x(V(o,a,l));const s=l=>y(t[l],1,1,()=>{t[l]=null});return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=le()},m(l,r){for(let c=0;c<t.length;c+=1)t[c].m(l,r);S(l,e,r),n=!0},p(l,r){if(r&140){a=l[2];let c;for(c=0;c<a.length;c+=1){const p=V(l,a,c);t[c]?(t[c].p(p,r),d(t[c],1)):(t[c]=x(p),t[c].c(),d(t[c],1),t[c].m(e.parentNode,e))}for(q(),c=a.length;c<t.length;c+=1)s(c);G()}},i(l){if(!n){for(let r=0;r<a.length;r+=1)d(t[r]);n=!0}},o(l){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)y(t[r]);n=!1},d(l){se(t,l),l&&C(e)}}}function x(o){let e,n;function a(){return o[15](o[19])}return e=new ie({props:{areDetailsShown:o[3]===o[19].id,data:o[19],clickHandler:a}}),{c(){H(e.$$.fragment)},m(t,s){v(e,t,s),n=!0},p(t,s){o=t;const l={};s&12&&(l.areDetailsShown=o[3]===o[19].id),s&4&&(l.data=o[19]),s&4&&(l.clickHandler=a),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function je(o){return{c:_,m:_,p:_,i:_,o:_,d:_}}function $e(o){let e,n;return e=new K({props:{$$slots:{default:[Se]},$$scope:{ctx:o}}}),{c(){H(e.$$.fragment)},m(a,t){v(e,a,t),n=!0},i(a){n||(d(e.$$.fragment,a),n=!0)},o(a){y(e.$$.fragment,a),n=!1},d(a){I(e,a)}}}function Pe(o){let e,n,a,t;return e=new re({props:{class:"!bottom-36",pageType:"announcements"}}),a=new K({props:{$$slots:{default:[Ce]},$$scope:{ctx:o}}}),{c(){H(e.$$.fragment),n=j(),H(a.$$.fragment)},m(s,l){v(e,s,l),S(s,n,l),v(a,s,l),t=!0},i(s){t||(d(e.$$.fragment,s),d(a.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),y(a.$$.fragment,s),t=!1},d(s){I(e,s),s&&C(n),I(a,s)}}}function Se(o){let e,n,a;return{c(){e=k("p"),e.textContent="Na tej stronie mo\u017Cesz wykona\u0107 nast\u0119puj\u0105ce rzeczy:",n=j(),a=k("ul"),a.innerHTML=`<li><span class="font-bold">Przegl\u0105danie post\xF3w</span> - znajduje si\u0119 na \u015Brodku strony, pozwala na zapoznanie si\u0119 z tre\u015Bci\u0105 i szczeg\xF3\u0142ami
                    post\xF3w, klikaj\u0105c na nie na li\u015Bcie. Mo\u017Cna te\u017C zobaczy\u0107 informacje o autorze posta, zapisa\u0107 si\u0119 lub wypisa\u0107 z posta oraz przej\u015B\u0107 na profil
                    autora.</li> 
                <li><span class="font-bold">Filtrowanie</span> - znajduje si\u0119 po lewej stronie strony, pozwala na ograniczenie liczby post\xF3w, wybieraj\u0105c
                    kategori\u0119, miejscowo\u015B\u0107 lub nazw\u0119 posta. Mo\u017Cna te\u017C posortowa\u0107 posty wed\u0142ug daty lub liczby zapisanych.</li> 
                <li><span class="font-bold">Tworzenie</span> - znajduje si\u0119 w prawym dolnym rogu strony, pozwala na dodawanie w\u0142asnych post\xF3w, wype\u0142niaj\u0105c
                    formularz z tytu\u0142em, kategori\u0105, opisem i innymi informacjami. Tworzenie dost\u0119pne jest tylko dla zalogowanych u\u017Cytkownik\xF3w.</li>`,$(a,"class","list-disc list-inside")},m(t,s){S(t,e,s),S(t,n,s),S(t,a,s)},p:_,d(t){t&&C(e),t&&C(n),t&&C(a)}}}function Ce(o){let e,n,a;return{c(){e=k("p"),e.textContent="Na tej stronie mo\u017Cesz wykona\u0107 nast\u0119puj\u0105ce rzeczy:",n=j(),a=k("ul"),a.innerHTML=`<li><span class="font-bold">Przegl\u0105danie post\xF3w</span> - znajduje si\u0119 na \u015Brodku strony, pozwala na zapoznanie si\u0119 z tre\u015Bci\u0105 i szczeg\xF3\u0142ami
                    post\xF3w, klikaj\u0105c na nie na li\u015Bcie. Mo\u017Cna te\u017C zobaczy\u0107 informacje o autorze posta, zapisa\u0107 si\u0119 lub wypisa\u0107 z posta oraz przej\u015B\u0107 na profil
                    autora.</li> 
                <li><span class="font-bold">Filtrowanie</span> - znajduje si\u0119 po lewej stronie strony, pozwala na ograniczenie liczby post\xF3w, wybieraj\u0105c
                    kategori\u0119, miejscowo\u015B\u0107 lub nazw\u0119 posta. Mo\u017Cna te\u017C posortowa\u0107 posty wed\u0142ug daty lub liczby zapisanych.</li> 
                <li><span class="font-bold">Tworzenie</span> - znajduje si\u0119 w prawym dolnym rogu strony, pozwala na dodawanie w\u0142asnych post\xF3w, wype\u0142niaj\u0105c
                    formularz z tytu\u0142em, kategori\u0105, opisem i innymi informacjami. Tworzenie dost\u0119pne jest tylko dla zalogowanych u\u017Cytkownik\xF3w.</li>`,$(a,"class","list-disc list-inside")},m(t,s){S(t,e,s),S(t,n,s),S(t,a,s)},p:_,d(t){t&&C(e),t&&C(n),t&&C(a)}}}function Te(o){let e,n,a,t,s,l,r,c,p,g,b,L,A,N,f,h,B,T,F,D,i;n=new ue({props:{pageType:"announcements"}}),t=new fe({props:{sortOptions:o[5]}});let u=o[0]&&X(o);p=new me({props:{sortOptions:o[5]}});let w={ctx:o,current:null,token:null,hasCatch:!1,pending:je,then:ke,catch:he,value:18,blocks:[,,,]};Z(o[6],w);const R=[Pe,$e],O=[];function U(m,P){return m[4]!==null?0:1}return f=U(o),h=O[f]=R[f](o),T=new ce({props:{pageType:"announcements"}}),{c(){e=k("div"),H(n.$$.fragment),a=j(),H(t.$$.fragment),s=j(),u&&u.c(),l=j(),r=k("div"),c=k("div"),H(p.$$.fragment),g=j(),b=k("div"),w.block.c(),L=j(),A=k("div"),N=j(),h.c(),B=j(),H(T.$$.fragment),$(c,"class","hidden lg:block lg:w-1/3 lg:bg-green-mist overflow-auto"),$(b,"class","flex flex-col h-full lg:w-2/3 overflow-auto"),$(A,"class","hidden lg:block lg:w-1/3"),$(r,"class","h-[calc(100%-10rem)] lg:h-[calc(100%-4rem)] lg:flex lg:flex-row"),$(r,"id","postsContainer"),$(e,"class","h-screen")},m(m,P){S(m,e,P),v(n,e,null),z(e,a),v(t,e,null),z(e,s),u&&u.m(e,null),z(e,l),z(e,r),z(r,c),v(p,c,null),z(r,g),z(r,b),w.block.m(b,w.anchor=null),w.mount=()=>b,w.anchor=null,z(r,L),z(r,A),z(e,N),O[f].m(e,null),z(e,B),v(T,e,null),F=!0,D||(i=J(r,"scroll",o[8]),D=!0)},p(m,[P]){o=m,o[0]?u?(u.p(o,P),P&1&&d(u,1)):(u=X(o),u.c(),d(u,1),u.m(e,l)):u&&(q(),y(u,1,1,()=>{u=null}),G()),ee(w,o,P);let E=f;f=U(o),f!==E&&(q(),y(O[E],1,1,()=>{O[E]=null}),G(),h=O[f],h||(h=O[f]=R[f](o),h.c()),d(h,1),h.m(e,B))},i(m){F||(d(n.$$.fragment,m),d(t.$$.fragment,m),d(u),d(p.$$.fragment,m),d(w.block),d(h),d(T.$$.fragment,m),F=!0)},o(m){y(n.$$.fragment,m),y(t.$$.fragment,m),y(u),y(p.$$.fragment,m);for(let P=0;P<3;P+=1){const E=w.blocks[P];y(E)}y(h),y(T.$$.fragment,m),F=!1},d(m){m&&C(e),I(n),I(t),u&&u.d(),I(p),w.block.d(),w.token=null,w=null,O[f].d(),I(T),D=!1,i()}}}function He(o,e,n){let a,t,s,l,r,c;M(o,ge,i=>n(10,a=i)),M(o,ze,i=>n(11,t=i)),M(o,ye,i=>n(12,s=i)),M(o,be,i=>n(13,l=i)),M(o,ae,i=>n(16,r=i)),M(o,_e,i=>n(4,c=i));let p=!1,g="";r(i=>{let u=i.__file.last.shortPath;return u==="/announcements/create"?(n(0,p=!0),n(1,g="Pomy\u015Blnie utworzono post!")):u==="/announcements/edit"&&(n(0,p=!0),n(1,g="Pomy\u015Blnie edytowano post!")),!0});let b=[],L=null,A=[{id:1,name:"Od najnowszych"},{id:2,name:"Od najstarszych"},{id:3,name:"Po liczbie zapisanych rosn\u0105co"},{id:4,name:"Po liczbie zapisanych malej\u0105co"}],N,f=0;we();const h=i=>{L!==i?n(3,L=i):n(3,L=null)},B=()=>{const i=document.getElementById("postsContainer");i.offsetHeight+i.scrollTop===i.scrollHeight&&n(9,f=f+1)},T=(i,u)=>{de(`announcements?page=${i}&`+u.toString(),"GET").then(w=>w.json()).then(w=>n(2,b=[...b,...w]))},F=()=>n(0,p=!1),D=i=>h(i.id);return o.$$.update=()=>{if(o.$$.dirty&15360&&(n(2,b=[]),n(9,f=0)),o.$$.dirty&15872){let i=new URLSearchParams;for(let u of l)i.append("categoryIds",u);for(let u of s)i.append("locationIds",u.id);t!==null&&i.append("sortOption",t.toString()),a!==null&&i.append("nameSearch",a),T(f,i)}},[p,g,b,L,c,A,N,h,B,f,a,t,s,l,F,D]}class Ue extends Q{constructor(e){super(),W(this,e,He,Te,Y,{})}}export{Ue as default};
