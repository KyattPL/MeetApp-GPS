import{S as D,i as J,s as K,ad as O,e as U,a as C,ae as Q,b as g,t as w,d as y,f as R,r as V,y as m,l as k,n as S,m as q,o as v,q as d,p as M,w as X,g as P,c as W,v as A,A as j,L as F,ab as Y}from"./index.b73d61b7.js";import{B as Z}from"./Button.da243cef.js";import{S as I}from"./SelectablePill.26a9457d.js";import{e as T}from"./fetchWrapper.486a233b.js";function N(o,l,s){const n=o.slice();return n[10]=l[s],n}function ee(o){return{c:m,m,p:m,i:m,o:m,d:m}}function te(o){let l,s,n,e,c,t,r,a,_,h,x,i,b,z,G,p=o[1]!==null&&B(o),u=o[2]!==null&&H(o);return h=new Z({props:{clickHandler:o[4],class:"px-10 py-1",$$slots:{default:[ne]},$$scope:{ctx:o}}}),{c(){l=k("div"),s=k("div"),p&&p.c(),n=S(),e=k("div"),e.innerHTML="<p>Wybranie zainteresowa\u0144 pozwoli nam na dopasowanie tre\u015Bci specjalnie dla Ciebie.</p>",c=S(),t=k("div"),u&&u.c(),r=S(),a=k("div"),_=k("div"),q(h.$$.fragment),x=S(),i=k("button"),i.innerHTML='<div class="text-sm text-sage px-16 text-center py-2">Wybior\u0119 zainteresowania nast\u0119pnym razem</div>',v(e,"class","text-cocoa px-8 text-base"),v(t,"class","px-2 py-2"),v(s,"class","flex flex-col items-center"),v(_,"class",""),v(a,"class","flex flex-col items-center"),v(l,"class","flex flex-col bg-ivory h-screen justify-between lg:w-1/3 lg:mx-auto lg:py-10")},m(f,$){C(f,l,$),d(l,s),p&&p.m(s,null),d(s,n),d(s,e),d(s,c),d(s,t),u&&u.m(t,null),d(l,r),d(l,a),d(a,_),M(h,_,null),d(a,x),d(a,i),b=!0,z||(G=X(i,"click",o[7]),z=!0)},p(f,$){f[1]!==null?p?p.p(f,$):(p=B(f),p.c(),p.m(s,n)):p&&(p.d(1),p=null),f[2]!==null?u?(u.p(f,$),$&4&&g(u,1)):(u=H(f),u.c(),g(u,1),u.m(t,null)):u&&(P(),w(u,1,1,()=>{u=null}),W());const E={};$&8192&&(E.$$scope={dirty:$,ctx:f}),h.$set(E)},i(f){b||(g(u),g(h.$$.fragment,f),b=!0)},o(f){w(u),w(h.$$.fragment,f),b=!1},d(f){f&&y(l),p&&p.d(),u&&u.d(),A(h),z=!1,G()}}}function B(o){let l,s,n=o[1].firstName+"",e,c;return{c(){l=k("div"),s=j("Cze\u015B\u0107 "),e=j(n),c=j("!"),v(l,"class","text-cocoa text-2xl py-4 uppercase")},m(t,r){C(t,l,r),d(l,s),d(l,e),d(l,c)},p(t,r){r&2&&n!==(n=t[1].firstName+"")&&F(e,n)},d(t){t&&y(l)}}}function H(o){let l,s,n=o[2],e=[];for(let t=0;t<n.length;t+=1)e[t]=L(N(o,n,t));const c=t=>w(e[t],1,1,()=>{e[t]=null});return{c(){for(let t=0;t<e.length;t+=1)e[t].c();l=U()},m(t,r){for(let a=0;a<e.length;a+=1)e[a].m(t,r);C(t,l,r),s=!0},p(t,r){if(r&13){n=t[2];let a;for(a=0;a<n.length;a+=1){const _=N(t,n,a);e[a]?(e[a].p(_,r),g(e[a],1)):(e[a]=L(_),e[a].c(),g(e[a],1),e[a].m(l.parentNode,l))}for(P(),a=n.length;a<e.length;a+=1)c(a);W()}},i(t){if(!s){for(let r=0;r<n.length;r+=1)g(e[r]);s=!0}},o(t){e=e.filter(Boolean);for(let r=0;r<e.length;r+=1)w(e[r]);s=!1},d(t){Y(e,t),t&&y(l)}}}function le(o){let l=o[10].name+"",s;return{c(){s=j(l)},m(n,e){C(n,s,e)},p(n,e){e&4&&l!==(l=n[10].name+"")&&F(s,l)},d(n){n&&y(s)}}}function L(o){let l,s;function n(){return o[6](o[10])}return l=new I({props:{class:"mx-2 my-1 px-6",isSelected:o[0].includes(o[10].id),clickCallback:n,$$slots:{default:[le]},$$scope:{ctx:o}}}),{c(){q(l.$$.fragment)},m(e,c){M(l,e,c),s=!0},p(e,c){o=e;const t={};c&5&&(t.isSelected=o[0].includes(o[10].id)),c&4&&(t.clickCallback=n),c&8196&&(t.$$scope={dirty:c,ctx:o}),l.$set(t)},i(e){s||(g(l.$$.fragment,e),s=!0)},o(e){w(l.$$.fragment,e),s=!1},d(e){A(l,e)}}}function ne(o){let l;return{c(){l=j("Gotowe!")},m(s,n){C(s,l,n)},d(s){s&&y(l)}}}function se(o){return{c:m,m,p:m,i:m,o:m,d:m}}function oe(o){let l,s,n={ctx:o,current:null,token:null,hasCatch:!1,pending:se,then:te,catch:ee,value:9,blocks:[,,,]};return O(o[5](),n),{c(){l=U(),n.block.c()},m(e,c){C(e,l,c),n.block.m(e,n.anchor=c),n.mount=()=>l.parentNode,n.anchor=l,s=!0},p(e,[c]){o=e,Q(n,o,c)},i(e){s||(g(n.block),s=!0)},o(e){for(let c=0;c<3;c+=1){const t=n.blocks[c];w(t)}s=!1},d(e){e&&y(l),n.block.d(e),n.token=null,n=null}}}function ae(o,l,s){let n;R(o,V,i=>s(8,n=i));let e=null,c=null,t=[];T("categories","GET").then(i=>i.json()).then(i=>s(2,c=i)),T("users/categories","GET").then(i=>i.json()).then(i=>{for(const b of i)t.push(b.id)}),T("users/details","GET").then(i=>i.json()).then(i=>s(1,e=i));const r=i=>{t.includes(i)?s(0,t=t.filter(b=>b!==i)):s(0,t=[...t,i])},a=()=>{T("users/categories","PUT",{categories:t}).then(i=>window.location.href="http://localhost:8080")},_=async()=>{await(await T("users/details","GET")).json()===null&&n("/login")},h=i=>r(i.id),x=()=>window.location.href="http://localhost:8080/";return o.$$.update=()=>{o.$$.dirty&1&&console.log(t)},[t,e,c,r,a,_,h,x]}class fe extends D{constructor(l){super(),J(this,l,ae,oe,K,{})}}export{fe as default};
