import{S as j,i as B,s as L,e as D,c as k,d as q,f as v,g as C,m as b,h as E,w as z,t as g,k as M,n as O,l as h,o as T,p as $,ab as G,q as H,M as N,z as Q,Q as F}from"./index.a2cc8718.js";import{H as I}from"./Header.0c9d94ad.js";import{e as J}from"./fetchWrapper.486a233b.js";import{A as K}from"./AnnouncementListElem.629d97ea.js";import{E as P}from"./EventListElem.da5a701e.js";import{M as R}from"./MeetingListElem.f9a50138.js";import{u as U}from"./stores.43ba611d.js";import"./Button.5af62c54.js";import"./MdPeople.9c90138b.js";import"./MdAccessTime.01a97913.js";function S(t,n,l){const s=t.slice();return s[12]=n[l],s}function V(t){let n,l;function s(){return t[8](t[12])}return n=new K({props:{data:t[12],areDetailsShown:t[1]===t[12].id,clickHandler:s}}),{c(){k(n.$$.fragment)},m(e,o){b(n,e,o),l=!0},p(e,o){t=e;const i={};o&1&&(i.data=t[12]),o&3&&(i.areDetailsShown=t[1]===t[12].id),o&1&&(i.clickHandler=s),n.$set(i)},i(e){l||(g(n.$$.fragment,e),l=!0)},o(e){h(n.$$.fragment,e),l=!1},d(e){$(n,e)}}}function W(t){let n,l;function s(){return t[7](t[12])}return n=new P({props:{data:t[12],clickHandler:s}}),{c(){k(n.$$.fragment)},m(e,o){b(n,e,o),l=!0},p(e,o){t=e;const i={};o&1&&(i.data=t[12]),o&5&&(i.clickHandler=s),n.$set(i)},i(e){l||(g(n.$$.fragment,e),l=!0)},o(e){h(n.$$.fragment,e),l=!1},d(e){$(n,e)}}}function X(t){let n,l;function s(){return t[6](t[12])}return n=new R({props:{data:t[12],areDetailsShown:t[1]===t[12].id,clickHandler:s}}),{c(){k(n.$$.fragment)},m(e,o){b(n,e,o),l=!0},p(e,o){t=e;const i={};o&1&&(i.data=t[12]),o&3&&(i.areDetailsShown=t[1]===t[12].id),o&1&&(i.clickHandler=s),n.$set(i)},i(e){l||(g(n.$$.fragment,e),l=!0)},o(e){h(n.$$.fragment,e),l=!1},d(e){$(n,e)}}}function A(t){let n,l,s,e,o,i;const _=[X,W,V],c=[];function a(f,r){return r&1&&(n=null),r&1&&(l=null),n==null&&(n=!!Object.hasOwn(f[12],"meetingDateTime")),n?0:(l==null&&(l=!!Object.hasOwn(f[12],"startDateTime")),l?1:2)}return s=a(t,-1),e=c[s]=_[s](t),{c(){e.c(),o=N()},m(f,r){c[s].m(f,r),C(f,o,r),i=!0},p(f,r){let p=s;s=a(f,r),s===p?c[s].p(f,r):(M(),h(c[p],1,1,()=>{c[p]=null}),O(),e=c[s],e?e.p(f,r):(e=c[s]=_[s](f),e.c()),g(e,1),e.m(o.parentNode,o))},i(f){i||(g(e),i=!0)},o(f){h(e),i=!1},d(f){c[s].d(f),f&&T(o)}}}function Y(t){let n,l,s,e,o,i,_;l=new I({});let c=t[0],a=[];for(let r=0;r<c.length;r+=1)a[r]=A(S(t,c,r));const f=r=>h(a[r],1,1,()=>{a[r]=null});return{c(){n=D("div"),k(l.$$.fragment),s=q(),e=D("div");for(let r=0;r<a.length;r+=1)a[r].c();v(e,"class","h-[calc(100%-4rem)] lg:h-[calc(100%-4rem)] lg:w-1/2 lg:mx-auto overflow-auto"),v(e,"id","postsContainer"),v(n,"class","h-screen")},m(r,p){C(r,n,p),b(l,n,null),E(n,s),E(n,e);for(let u=0;u<a.length;u+=1)a[u].m(e,null);o=!0,i||(_=z(e,"scroll",t[4]),i=!0)},p(r,[p]){if(p&15){c=r[0];let u;for(u=0;u<c.length;u+=1){const d=S(r,c,u);a[u]?(a[u].p(d,p),g(a[u],1)):(a[u]=A(d),a[u].c(),g(a[u],1),a[u].m(e,null))}for(M(),u=c.length;u<a.length;u+=1)f(u);O()}},i(r){if(!o){g(l.$$.fragment,r);for(let p=0;p<c.length;p+=1)g(a[p]);o=!0}},o(r){h(l.$$.fragment,r),a=a.filter(Boolean);for(let p=0;p<a.length;p+=1)h(a[p]);o=!1},d(r){r&&T(n),$(l),G(a,r),i=!1,_()}}}function Z(t,n,l){let s,e,o;H(t,Q,m=>l(9,s=m)),H(t,U,m=>l(10,e=m)),H(t,F,m=>l(2,o=m));let i=[],_=null,c=0;e===null&&s("/login");const a=m=>{J(`users/activities?page=${m}`,"GET").then(w=>w.json()).then(w=>l(0,i=[...i,...w]))},f=m=>{_===m?l(1,_=null):l(1,_=m)},r=()=>{const m=document.getElementById("postsContainer");m.offsetHeight+m.scrollTop===m.scrollHeight&&l(5,c=c+1)},p=m=>f(m.id),u=m=>o(`/events/${m.id}`),d=m=>f(m.id);return t.$$.update=()=>{t.$$.dirty&32&&a(c)},[i,_,o,f,r,c,p,u,d]}class ae extends j{constructor(n){super(),B(this,n,Z,Y,L,{})}}export{ae as default};
