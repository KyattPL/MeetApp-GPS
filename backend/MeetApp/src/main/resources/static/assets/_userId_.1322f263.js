import{S as ne,i as se,s as re,B as N,c as D,m as L,C as oe,D as ce,t as $,l as b,p as T,E as J,F as K,d as k,f as p,g as I,r as h,o as y,ad as ie,e as g,h as u,ae as ue,q as G,Q as fe,z as me,T as pe,u as A,U as _e,k as R,n as X,ab as de}from"./index.a2cc8718.js";import{e as S}from"./fetchWrapper.486a233b.js";import{u as he}from"./stores.43ba611d.js";import{P as $e}from"./Pill.8ec02ba2.js";import{B as ge}from"./Button.5af62c54.js";import{I as be,H as we,d as ve}from"./Header.0c9d94ad.js";function ke(s){let e,n,l;return{c(){e=K("path"),n=k(),l=K("path"),p(e,"d","M460.6 147.3L353 256.9c-.8.8-.8 2 0 2.8l75.3 80.2c5.1 5.1 5.1 13.3 0 18.4-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8l-75-79.9c-.8-.8-2.1-.8-2.9 0L313.7 297c-15.3 15.5-35.6 24.1-57.4 24.2-22.1.1-43.1-9.2-58.6-24.9l-17.6-17.9c-.8-.8-2.1-.8-2.9 0l-75 79.9c-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8c-5.1-5.1-5.1-13.3 0-18.4l75.3-80.2c.7-.8.7-2 0-2.8L51.4 147.3c-1.3-1.3-3.4-.4-3.4 1.4V368c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V148.7c0-1.8-2.2-2.6-3.4-1.4z"),p(l,"d","M256 295.1c14.8 0 28.7-5.8 39.1-16.4L452 119c-5.5-4.4-12.3-7-19.8-7H79.9c-7.5 0-14.4 2.6-19.8 7L217 278.7c10.3 10.5 24.2 16.4 39 16.4z")},m(r,t){I(r,e,t),I(r,n,t),I(r,l,t)},p:h,d(r){r&&y(e),r&&y(n),r&&y(l)}}}function xe(s){let e,n;const l=[{viewBox:"0 0 512 512"},s[0]];let r={$$slots:{default:[ke]},$$scope:{ctx:s}};for(let t=0;t<l.length;t+=1)r=N(r,l[t]);return e=new be({props:r}),{c(){D(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},p(t,[o]){const f=o&1?oe(l,[l[0],ce(t[0])]):{};o&2&&(f.$$scope={dirty:o,ctx:t}),e.$set(f)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ie(s,e,n){return s.$$set=l=>{n(0,e=N(N({},e),J(l)))},e=J(e),[e]}class ye extends ne{constructor(e){super(),se(this,e,Ie,xe,re,{})}}function Y(s){s[3]=s[9][0],s[8]=s[9][1]}function ee(s,e,n){const l=s.slice();return l[10]=e[n],l[12]=n,l}function je(s){return{c:h,m:h,p:h,i:h,o:h,d:h}}function Be(s){Y(s);let e,n,l,r,t,o,f=s[3].firstName+"",x,M,F=s[3].lastName+"",_,w,v,B,V,E,O,j,U,P,Q,q,z,W,H,C=s[8],c=[];for(let a=0;a<C.length;a+=1)c[a]=te(ee(s,C,a));const ae=a=>b(c[a],1,1,()=>{c[a]=null});P=new ve({});let m=s[1]!==null&&le(s);return{c(){e=g("div"),n=g("div"),l=g("img"),t=k(),o=g("div"),x=A(f),M=k(),_=A(F),w=k(),v=g("div"),B=g("p"),B.textContent="Zainteresowania",V=k(),E=g("div");for(let a=0;a<c.length;a+=1)c[a].c();O=k(),j=g("a"),U=g("div"),D(P.$$.fragment),Q=k(),q=g("p"),q.textContent="Aktywne Posty",W=k(),m&&m.c(),p(l,"class","rounded-full w-64 h-64"),_e(l.src,r=s[3].profilePicture)||p(l,"src",r),p(l,"alt","Profile avatar"),p(n,"class","w-64 h-64 mr-2 flex-none"),p(o,"class","text-cocoa text-3xl font-bold pb-12 text-center"),p(B,"class","text-cocoa text-xl font-bold pb-5"),p(E,"class","flex flex-wrap justify-center"),p(v,"class","flex flex-col items-center pb-12"),p(U,"class","h-5 w-7 mr-2 text-cocoa"),p(q,"class","text-pine text-2xl hover:opacity-50 transition ease-in-out delay-100 cursor-pointer"),p(j,"class","mb-12 flex flex-row items-center"),p(j,"href",z=s[2](`/user/${s[0]}/posts`)),p(e,"class","flex flex-col items-center px-6 overflow-scroll h-[calc(100%-4rem)]")},m(a,d){I(a,e,d),u(e,n),u(n,l),u(e,t),u(e,o),u(o,x),u(o,M),u(o,_),u(e,w),u(e,v),u(v,B),u(v,V),u(v,E);for(let i=0;i<c.length;i+=1)c[i].m(E,null);u(e,O),u(e,j),u(j,U),L(P,U,null),u(j,Q),u(j,q),u(e,W),m&&m.m(e,null),H=!0},p(a,d){if(Y(a),d&16){C=a[8];let i;for(i=0;i<C.length;i+=1){const Z=ee(a,C,i);c[i]?(c[i].p(Z,d),$(c[i],1)):(c[i]=te(Z),c[i].c(),$(c[i],1),c[i].m(E,null))}for(R(),i=C.length;i<c.length;i+=1)ae(i);X()}(!H||d&5&&z!==(z=a[2](`/user/${a[0]}/posts`)))&&p(j,"href",z),a[1]!==null?m?(m.p(a,d),d&2&&$(m,1)):(m=le(a),m.c(),$(m,1),m.m(e,null)):m&&(R(),b(m,1,1,()=>{m=null}),X())},i(a){if(!H){for(let d=0;d<C.length;d+=1)$(c[d]);$(P.$$.fragment,a),$(m),H=!0}},o(a){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)b(c[d]);b(P.$$.fragment,a),b(m),H=!1},d(a){a&&y(e),de(c,a),T(P),m&&m.d()}}}function Ce(s){let e=s[10].name+"",n,l;return{c(){n=A(e),l=k()},m(r,t){I(r,n,t),I(r,l,t)},p:h,d(r){r&&y(n),r&&y(l)}}}function te(s){let e,n;return e=new $e({props:{class:"flex self-center px-4 mx-1 my-1",$$slots:{default:[Ce]},$$scope:{ctx:s}}}),{c(){D(e.$$.fragment)},m(l,r){L(e,l,r),n=!0},p(l,r){const t={};r&8192&&(t.$$scope={dirty:r,ctx:l}),e.$set(t)},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){b(e.$$.fragment,l),n=!1},d(l){T(e,l)}}}function le(s){let e,n;return e=new ge({props:{class:"flex flex-row text-xl px-4 py-2 mb-12",clickHandler:s[5],$$slots:{default:[Pe]},$$scope:{ctx:s}}}),{c(){D(e.$$.fragment)},m(l,r){L(e,l,r),n=!0},p(l,r){const t={};r&8192&&(t.$$scope={dirty:r,ctx:l}),e.$set(t)},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){b(e.$$.fragment,l),n=!1},d(l){T(e,l)}}}function Pe(s){let e,n,l,r;return n=new ye({}),{c(){e=g("div"),D(n.$$.fragment),l=A(`\r
                    Wy\u015Blij wiadomo\u015B\u0107`),p(e,"class","h-7 w-7 mr-2")},m(t,o){I(t,e,o),L(n,e,null),I(t,l,o),r=!0},p:h,i(t){r||($(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){t&&y(e),T(n),t&&y(l)}}}function De(s){return{c:h,m:h,p:h,i:h,o:h,d:h}}function Le(s){let e,n,l,r;n=new we({});let t={ctx:s,current:null,token:null,hasCatch:!1,pending:De,then:Be,catch:je,value:9,blocks:[,,,]};return ie(s[4](),t),{c(){e=g("div"),D(n.$$.fragment),l=k(),t.block.c(),p(e,"class","h-screen bg-ivory")},m(o,f){I(o,e,f),L(n,e,null),u(e,l),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,r=!0},p(o,[f]){s=o,ue(t,s,f)},i(o){r||($(n.$$.fragment,o),$(t.block),r=!0)},o(o){b(n.$$.fragment,o);for(let f=0;f<3;f+=1){const x=t.blocks[f];b(x)}r=!1},d(o){o&&y(e),T(n),t.block.d(),t.token=null,t=null}}}function Te(s,e,n){let l,r,t,o;G(s,fe,_=>n(6,l=_)),G(s,me,_=>n(7,r=_)),G(s,he,_=>n(1,t=_)),G(s,pe,_=>n(2,o=_));let{userId:f}=e,x=null;async function M(){n(3,x=await S(`users/${f}/details`,"GET").then(async w=>(w.ok||r("/login"),await w.json())));const _=await S(`users/${f}/categories`,"GET").then(async w=>(w.ok||r("/login"),await w.json()));return[x,_]}async function F(){t===null&&r("/login");const _=await S(`chatrooms/with/${f}`,"GET").then(async w=>{let v=null;try{v=await w.json()}catch{}return v===null?await S(`chatrooms/${x.email}`,"POST").then(async B=>await B.json()):v});l(`/chat/${_.id}`)}return s.$$set=_=>{"userId"in _&&n(0,f=_.userId)},[f,t,o,x,M,F]}class Ge extends ne{constructor(e){super(),se(this,e,Te,Le,re,{userId:0})}}export{Ge as default};
