import{S as ne,i as se,s as re,B as N,m as D,p as L,C as oe,D as ce,b as $,t as b,v as T,E as J,F as K,n as k,o as p,a as y,y as h,d as I,ad as ie,l as g,q as u,ae as ue,f as S,P as fe,r as me,R as pe,A as z,T as _e,g as Q,c as X,ab as de}from"./index.065195ac.js";import{e as U}from"./fetchWrapper.5ae2c67b.js";import{u as he}from"./stores.b0f999d8.js";import{P as $e}from"./Pill.c17c7528.js";import{B as ge}from"./Button.c262fd29.js";import{I as be,H as ve,d as we}from"./Header.66cf0db7.js";function ke(s){let e,n,l;return{c(){e=K("path"),n=k(),l=K("path"),p(e,"d","M460.6 147.3L353 256.9c-.8.8-.8 2 0 2.8l75.3 80.2c5.1 5.1 5.1 13.3 0 18.4-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8l-75-79.9c-.8-.8-2.1-.8-2.9 0L313.7 297c-15.3 15.5-35.6 24.1-57.4 24.2-22.1.1-43.1-9.2-58.6-24.9l-17.6-17.9c-.8-.8-2.1-.8-2.9 0l-75 79.9c-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8c-5.1-5.1-5.1-13.3 0-18.4l75.3-80.2c.7-.8.7-2 0-2.8L51.4 147.3c-1.3-1.3-3.4-.4-3.4 1.4V368c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V148.7c0-1.8-2.2-2.6-3.4-1.4z"),p(l,"d","M256 295.1c14.8 0 28.7-5.8 39.1-16.4L452 119c-5.5-4.4-12.3-7-19.8-7H79.9c-7.5 0-14.4 2.6-19.8 7L217 278.7c10.3 10.5 24.2 16.4 39 16.4z")},m(r,t){y(r,e,t),y(r,n,t),y(r,l,t)},p:h,d(r){r&&I(e),r&&I(n),r&&I(l)}}}function xe(s){let e,n;const l=[{viewBox:"0 0 512 512"},s[0]];let r={$$slots:{default:[ke]},$$scope:{ctx:s}};for(let t=0;t<l.length;t+=1)r=N(r,l[t]);return e=new be({props:r}),{c(){D(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},p(t,[o]){const f=o&1?oe(l,[l[0],ce(t[0])]):{};o&2&&(f.$$scope={dirty:o,ctx:t}),e.$set(f)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ye(s,e,n){return s.$$set=l=>{n(0,e=N(N({},e),J(l)))},e=J(e),[e]}class Ie extends ne{constructor(e){super(),se(this,e,ye,xe,re,{})}}function Y(s){s[3]=s[9][0],s[8]=s[9][1]}function ee(s,e,n){const l=s.slice();return l[10]=e[n],l[12]=n,l}function je(s){return{c:h,m:h,p:h,i:h,o:h,d:h}}function Be(s){Y(s);let e,n,l,r,t,o,f=s[3].firstName+"",x,M,F=s[3].lastName+"",_,v,w,B,V,E,O,j,q,P,R,A,G,W,H,C=s[8],c=[];for(let a=0;a<C.length;a+=1)c[a]=te(ee(s,C,a));const ae=a=>b(c[a],1,1,()=>{c[a]=null});P=new we({});let m=s[1]!==null&&le(s);return{c(){e=g("div"),n=g("div"),l=g("img"),t=k(),o=g("div"),x=z(f),M=k(),_=z(F),v=k(),w=g("div"),B=g("p"),B.textContent="Zainteresowania",V=k(),E=g("div");for(let a=0;a<c.length;a+=1)c[a].c();O=k(),j=g("a"),q=g("div"),D(P.$$.fragment),R=k(),A=g("p"),A.textContent="Aktywne Posty",W=k(),m&&m.c(),p(l,"class","rounded-full w-64 h-64"),_e(l.src,r=s[3].profilePicture)||p(l,"src",r),p(l,"alt","Profile avatar"),p(n,"class","w-64 h-64 mr-2 flex-none"),p(o,"class","text-cocoa text-3xl font-bold pb-12 text-center"),p(B,"class","text-cocoa text-xl font-bold pb-5"),p(E,"class","flex flex-wrap justify-center"),p(w,"class","flex flex-col items-center pb-12"),p(q,"class","h-5 w-7 mr-2 text-cocoa"),p(A,"class","text-pine text-2xl hover:opacity-50 transition ease-in-out delay-100 cursor-pointer"),p(j,"class","mb-12 flex flex-row items-center"),p(j,"href",G=s[2](`/user/${s[0]}/posts`)),p(e,"class","flex flex-col items-center px-6 overflow-scroll h-[calc(100%-4rem)]")},m(a,d){y(a,e,d),u(e,n),u(n,l),u(e,t),u(e,o),u(o,x),u(o,M),u(o,_),u(e,v),u(e,w),u(w,B),u(w,V),u(w,E);for(let i=0;i<c.length;i+=1)c[i].m(E,null);u(e,O),u(e,j),u(j,q),L(P,q,null),u(j,R),u(j,A),u(e,W),m&&m.m(e,null),H=!0},p(a,d){if(Y(a),d&16){C=a[8];let i;for(i=0;i<C.length;i+=1){const Z=ee(a,C,i);c[i]?(c[i].p(Z,d),$(c[i],1)):(c[i]=te(Z),c[i].c(),$(c[i],1),c[i].m(E,null))}for(Q(),i=C.length;i<c.length;i+=1)ae(i);X()}(!H||d&5&&G!==(G=a[2](`/user/${a[0]}/posts`)))&&p(j,"href",G),a[1]!==null?m?(m.p(a,d),d&2&&$(m,1)):(m=le(a),m.c(),$(m,1),m.m(e,null)):m&&(Q(),b(m,1,1,()=>{m=null}),X())},i(a){if(!H){for(let d=0;d<C.length;d+=1)$(c[d]);$(P.$$.fragment,a),$(m),H=!0}},o(a){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)b(c[d]);b(P.$$.fragment,a),b(m),H=!1},d(a){a&&I(e),de(c,a),T(P),m&&m.d()}}}function Ce(s){let e=s[10].name+"",n,l;return{c(){n=z(e),l=k()},m(r,t){y(r,n,t),y(r,l,t)},p:h,d(r){r&&I(n),r&&I(l)}}}function te(s){let e,n;return e=new $e({props:{class:"flex self-center px-4 mx-1 my-1",$$slots:{default:[Ce]},$$scope:{ctx:s}}}),{c(){D(e.$$.fragment)},m(l,r){L(e,l,r),n=!0},p(l,r){const t={};r&8192&&(t.$$scope={dirty:r,ctx:l}),e.$set(t)},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){b(e.$$.fragment,l),n=!1},d(l){T(e,l)}}}function le(s){let e,n;return e=new ge({props:{class:"flex flex-row text-xl px-4 py-2 mb-12",clickHandler:s[5],$$slots:{default:[Pe]},$$scope:{ctx:s}}}),{c(){D(e.$$.fragment)},m(l,r){L(e,l,r),n=!0},p(l,r){const t={};r&8192&&(t.$$scope={dirty:r,ctx:l}),e.$set(t)},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){b(e.$$.fragment,l),n=!1},d(l){T(e,l)}}}function Pe(s){let e,n,l,r;return n=new Ie({}),{c(){e=g("div"),D(n.$$.fragment),l=z(`\r
                    Wy\u015Blij wiadomo\u015B\u0107`),p(e,"class","h-7 w-7 mr-2")},m(t,o){y(t,e,o),L(n,e,null),y(t,l,o),r=!0},p:h,i(t){r||($(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){t&&I(e),T(n),t&&I(l)}}}function De(s){return{c:h,m:h,p:h,i:h,o:h,d:h}}function Le(s){let e,n,l,r;n=new ve({});let t={ctx:s,current:null,token:null,hasCatch:!1,pending:De,then:Be,catch:je,value:9,blocks:[,,,]};return ie(s[4](),t),{c(){e=g("div"),D(n.$$.fragment),l=k(),t.block.c(),p(e,"class","h-screen bg-ivory")},m(o,f){y(o,e,f),L(n,e,null),u(e,l),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,r=!0},p(o,[f]){s=o,ue(t,s,f)},i(o){r||($(n.$$.fragment,o),$(t.block),r=!0)},o(o){b(n.$$.fragment,o);for(let f=0;f<3;f+=1){const x=t.blocks[f];b(x)}r=!1},d(o){o&&I(e),T(n),t.block.d(),t.token=null,t=null}}}function Te(s,e,n){let l,r,t,o;S(s,fe,_=>n(6,l=_)),S(s,me,_=>n(7,r=_)),S(s,he,_=>n(1,t=_)),S(s,pe,_=>n(2,o=_));let{userId:f}=e,x=null;async function M(){n(3,x=await U(`users/${f}/details`,"GET").then(async v=>(v.ok||r("/login"),await v.json())));const _=await U(`users/${f}/categories`,"GET").then(async v=>(v.ok||r("/login"),await v.json()));return[x,_]}async function F(){t===null&&r("/login");const _=await U(`chatrooms/with/${f}`,"GET").then(async v=>{let w=null;try{w=await v.json()}catch{}return w===null?await U(`chatrooms/${x.email}`,"POST").then(async B=>await B.json()):w});l(`/chat/${_.id}`)}return s.$$set=_=>{"userId"in _&&n(0,f=_.userId)},[f,t,o,x,M,F]}class Se extends ne{constructor(e){super(),se(this,e,Te,Le,re,{userId:0})}}export{Se as default};
