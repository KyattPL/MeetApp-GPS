import{S as B,i as L,s as M,l as D,m as b,n as q,o as v,a as C,p as k,q as E,w as G,b as g,g as O,c as T,t as d,d as j,v as $,ab as N,f as H,e as P,r as z,P as F}from"./index.065195ac.js";import{H as I}from"./Header.66cf0db7.js";import{e as J}from"./fetchWrapper.5ae2c67b.js";import{A as K}from"./AnnouncementListElem.649220f4.js";import{E as Q}from"./EventListElem.233897a4.js";import{M as R}from"./MeetingListElem.6efa2d22.js";import{u as U}from"./stores.b0f999d8.js";import"./Button.c262fd29.js";import"./MdPeople.3e18b6bf.js";import"./MdAccessTime.408586db.js";function S(t,n,l){const s=t.slice();return s[12]=n[l],s}function V(t){let n,l;function s(){return t[8](t[12])}return n=new K({props:{data:t[12],areDetailsShown:t[1]===t[12].id,clickHandler:s}}),{c(){b(n.$$.fragment)},m(e,o){k(n,e,o),l=!0},p(e,o){t=e;const i={};o&1&&(i.data=t[12]),o&3&&(i.areDetailsShown=t[1]===t[12].id),o&1&&(i.clickHandler=s),n.$set(i)},i(e){l||(g(n.$$.fragment,e),l=!0)},o(e){d(n.$$.fragment,e),l=!1},d(e){$(n,e)}}}function W(t){let n,l;function s(){return t[7](t[12])}return n=new Q({props:{data:t[12],clickHandler:s}}),{c(){b(n.$$.fragment)},m(e,o){k(n,e,o),l=!0},p(e,o){t=e;const i={};o&1&&(i.data=t[12]),o&5&&(i.clickHandler=s),n.$set(i)},i(e){l||(g(n.$$.fragment,e),l=!0)},o(e){d(n.$$.fragment,e),l=!1},d(e){$(n,e)}}}function X(t){let n,l;function s(){return t[6](t[12])}return n=new R({props:{data:t[12],areDetailsShown:t[1]===t[12].id,clickHandler:s}}),{c(){b(n.$$.fragment)},m(e,o){k(n,e,o),l=!0},p(e,o){t=e;const i={};o&1&&(i.data=t[12]),o&3&&(i.areDetailsShown=t[1]===t[12].id),o&1&&(i.clickHandler=s),n.$set(i)},i(e){l||(g(n.$$.fragment,e),l=!0)},o(e){d(n.$$.fragment,e),l=!1},d(e){$(n,e)}}}function A(t){let n,l,s,e,o,i;const _=[X,W,V],c=[];function a(f,r){return r&1&&(n=null),r&1&&(l=null),n==null&&(n=!!Object.hasOwn(f[12],"meetingDateTime")),n?0:(l==null&&(l=!!Object.hasOwn(f[12],"startDateTime")),l?1:2)}return s=a(t,-1),e=c[s]=_[s](t),{c(){e.c(),o=P()},m(f,r){c[s].m(f,r),C(f,o,r),i=!0},p(f,r){let p=s;s=a(f,r),s===p?c[s].p(f,r):(O(),d(c[p],1,1,()=>{c[p]=null}),T(),e=c[s],e?e.p(f,r):(e=c[s]=_[s](f),e.c()),g(e,1),e.m(o.parentNode,o))},i(f){i||(g(e),i=!0)},o(f){d(e),i=!1},d(f){c[s].d(f),f&&j(o)}}}function Y(t){let n,l,s,e,o,i,_;l=new I({});let c=t[0],a=[];for(let r=0;r<c.length;r+=1)a[r]=A(S(t,c,r));const f=r=>d(a[r],1,1,()=>{a[r]=null});return{c(){n=D("div"),b(l.$$.fragment),s=q(),e=D("div");for(let r=0;r<a.length;r+=1)a[r].c();v(e,"class","h-[calc(100%-4rem)] lg:h-[calc(100%-4rem)] lg:w-1/2 lg:mx-auto overflow-auto"),v(e,"id","postsContainer"),v(n,"class","h-screen")},m(r,p){C(r,n,p),k(l,n,null),E(n,s),E(n,e);for(let u=0;u<a.length;u+=1)a[u].m(e,null);o=!0,i||(_=G(e,"scroll",t[4]),i=!0)},p(r,[p]){if(p&15){c=r[0];let u;for(u=0;u<c.length;u+=1){const h=S(r,c,u);a[u]?(a[u].p(h,p),g(a[u],1)):(a[u]=A(h),a[u].c(),g(a[u],1),a[u].m(e,null))}for(O(),u=c.length;u<a.length;u+=1)f(u);T()}},i(r){if(!o){g(l.$$.fragment,r);for(let p=0;p<c.length;p+=1)g(a[p]);o=!0}},o(r){d(l.$$.fragment,r),a=a.filter(Boolean);for(let p=0;p<a.length;p+=1)d(a[p]);o=!1},d(r){r&&j(n),$(l),N(a,r),i=!1,_()}}}function Z(t,n,l){let s,e,o;H(t,z,m=>l(9,s=m)),H(t,U,m=>l(10,e=m)),H(t,F,m=>l(2,o=m));let i=[],_=null,c=0;e===null&&s("/login");const a=m=>{J(`users/activities?page=${m}`,"GET").then(w=>w.json()).then(w=>l(0,i=[...i,...w]))},f=m=>{_===m?l(1,_=null):l(1,_=m)},r=()=>{const m=document.getElementById("postsContainer");m.offsetHeight+m.scrollTop===m.scrollHeight&&l(5,c=c+1)},p=m=>f(m.id),u=m=>o(`/events/${m.id}`),h=m=>f(m.id);return t.$$.update=()=>{t.$$.dirty&32&&a(c)},[i,_,o,f,r,c,p,u,h]}class ae extends B{constructor(n){super(),L(this,n,Z,Y,M,{})}}export{ae as default};
