import{S as T,i as j,s as L,l as v,m as h,n as P,o as w,a as S,p as k,q as H,w as q,b as d,g as C,c as I,t as g,d as O,v as $,ab as A,f as B,e as M,r as G}from"./index.43cd4c59.js";import{A as N}from"./AnnouncementListElem.f4e83c50.js";import{E as z}from"./EventListElem.ad116161.js";import{H as F}from"./Header.c5c16f79.js";import{M as J}from"./MeetingListElem.6c408088.js";import{e as K}from"./fetchWrapper.5ae2c67b.js";import"./Button.c6eb355c.js";import"./stores.6b8e3c48.js";import"./MdPeople.7f258904.js";import"./MdAccessTime.820aec3c.js";function D(n,t,r){const s=n.slice();return s[11]=t[r],s}function Q(n){let t,r;function s(){return n[9](n[11])}return t=new N({props:{data:n[11],areDetailsShown:n[1]===n[11].id,clickHandler:s}}),{c(){h(t.$$.fragment)},m(e,o){k(t,e,o),r=!0},p(e,o){n=e;const i={};o&1&&(i.data=n[11]),o&3&&(i.areDetailsShown=n[1]===n[11].id),o&1&&(i.clickHandler=s),t.$set(i)},i(e){r||(d(t.$$.fragment,e),r=!0)},o(e){g(t.$$.fragment,e),r=!1},d(e){$(t,e)}}}function R(n){let t,r;function s(){return n[8](n[11])}return t=new J({props:{data:n[11],areDetailsShown:n[1]===n[11].id,clickHandler:s}}),{c(){h(t.$$.fragment)},m(e,o){k(t,e,o),r=!0},p(e,o){n=e;const i={};o&1&&(i.data=n[11]),o&3&&(i.areDetailsShown=n[1]===n[11].id),o&1&&(i.clickHandler=s),t.$set(i)},i(e){r||(d(t.$$.fragment,e),r=!0)},o(e){g(t.$$.fragment,e),r=!1},d(e){$(t,e)}}}function U(n){let t,r;function s(){return n[7](n[11])}return t=new z({props:{data:n[11],clickHandler:s}}),{c(){h(t.$$.fragment)},m(e,o){k(t,e,o),r=!0},p(e,o){n=e;const i={};o&1&&(i.data=n[11]),o&5&&(i.clickHandler=s),t.$set(i)},i(e){r||(d(t.$$.fragment,e),r=!0)},o(e){g(t.$$.fragment,e),r=!1},d(e){$(t,e)}}}function E(n){let t,r,s,e,o,i;const p=[U,R,Q],u=[];function a(m,l){return l&1&&(t=null),l&1&&(r=null),t==null&&(t=!!Object.hasOwn(m[11],"startDateTime")),t?0:(r==null&&(r=!!Object.hasOwn(m[11],"meetingDateTime")),r?1:2)}return s=a(n,-1),e=u[s]=p[s](n),{c(){e.c(),o=M()},m(m,l){u[s].m(m,l),S(m,o,l),i=!0},p(m,l){let _=s;s=a(m,l),s===_?u[s].p(m,l):(C(),g(u[_],1,1,()=>{u[_]=null}),I(),e=u[s],e?e.p(m,l):(e=u[s]=p[s](m),e.c()),d(e,1),e.m(o.parentNode,o))},i(m){i||(d(e),i=!0)},o(m){g(e),i=!1},d(m){u[s].d(m),m&&O(o)}}}function V(n){let t,r,s,e,o,i,p;r=new F({});let u=n[0],a=[];for(let l=0;l<u.length;l+=1)a[l]=E(D(n,u,l));const m=l=>g(a[l],1,1,()=>{a[l]=null});return{c(){t=v("div"),h(r.$$.fragment),s=P(),e=v("div");for(let l=0;l<a.length;l+=1)a[l].c();w(e,"class","h-[calc(100%-4rem)] lg:h-[calc(100%-4rem)] lg:w-1/3 lg:mx-auto overflow-auto"),w(e,"id","postsContainer"),w(t,"class","h-screen")},m(l,_){S(l,t,_),k(r,t,null),H(t,s),H(t,e);for(let f=0;f<a.length;f+=1)a[f].m(e,null);o=!0,i||(p=q(e,"scroll",n[4]),i=!0)},p(l,[_]){if(_&15){u=l[0];let f;for(f=0;f<u.length;f+=1){const c=D(l,u,f);a[f]?(a[f].p(c,_),d(a[f],1)):(a[f]=E(c),a[f].c(),d(a[f],1),a[f].m(e,null))}for(C(),f=u.length;f<a.length;f+=1)m(f);I()}},i(l){if(!o){d(r.$$.fragment,l);for(let _=0;_<u.length;_+=1)d(a[_]);o=!0}},o(l){g(r.$$.fragment,l),a=a.filter(Boolean);for(let _=0;_<a.length;_+=1)g(a[_]);o=!1},d(l){l&&O(t),$(r),A(a,l),i=!1,p()}}}function W(n,t,r){let s;B(n,G,c=>r(2,s=c));let{userId:e}=t,o=[],i=null,p=0;const u=c=>{i!==c?r(1,i=c):r(1,i=null)},a=c=>{K(`users/${e}/posts?page=${c}`,"GET").then(b=>b.json()).then(b=>r(0,o=[...o,...b]))},m=()=>{const c=document.getElementById("postsContainer");c.offsetHeight+c.scrollTop===c.scrollHeight&&r(6,p=p+1)},l=c=>s(`/events/${c.id}`),_=c=>u(c.id),f=c=>u(c.id);return n.$$set=c=>{"userId"in c&&r(5,e=c.userId)},n.$$.update=()=>{n.$$.dirty&64&&a(p)},[o,i,s,u,m,e,p,l,_,f]}class se extends T{constructor(t){super(),j(this,t,W,V,L,{userId:5})}}export{se as default};
