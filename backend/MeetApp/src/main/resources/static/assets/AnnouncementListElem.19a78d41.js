import{S as x,i as ee,s as te,e as w,u as H,d as G,c as I,f as d,g as S,h as m,m as O,w as le,I as ne,v as F,t as g,k as U,l as A,n as W,o as D,p as Z,q as z,T as ie,M as se,U as J,O as C,P as K,ah as V,af as X}from"./index.1aa523d1.js";import{F as ae,s as B}from"./Header.a27adc45.js";import{B as Y}from"./Button.f40e2aed.js";import{e as L}from"./fetchWrapper.5ae2c67b.js";import{u as oe}from"./stores.43859d43.js";function Q(n){let e,l=n[0].description+"",t,s,f,_,h,a,b,u,p,v=n[0].author.firstName+"",c,M,T=n[0].author.lastName+"",N,y,j,E,$,q=n[4]!==null&&!n[6](),P,o,r=q&&R(n);return{c(){e=w("div"),t=H(l),f=G(),_=w("a"),h=w("div"),a=w("img"),u=G(),p=w("div"),c=H(v),M=G(),N=H(T),$=G(),r&&r.c(),P=se(),d(e,"class","border-t-2 border-shadow text-cocoa svelte-3lt51x"),d(a,"class","rounded-full"),J(a.src,b=n[0].author.profilePicture)||d(a,"src",b),d(a,"alt","Profile avatar"),d(a,"referrerpolicy","no-referrer"),d(h,"class","w-12 h-12 mr-2"),d(p,"class","text-cocoa"),d(_,"href",y=n[6]()?n[5]("/profile"):n[5](`/profile/${n[0].author.id}`)),d(_,"class","text-lg flex flex-row items-center")},m(i,k){S(i,e,k),m(e,t),S(i,f,k),S(i,_,k),m(_,h),m(h,a),m(_,u),m(_,p),m(p,c),m(p,M),m(p,N),S(i,$,k),r&&r.m(i,k),S(i,P,k),o=!0},p(i,k){(!o||k&1)&&l!==(l=i[0].description+"")&&F(t,l),(!o||k&1&&!J(a.src,b=i[0].author.profilePicture))&&d(a,"src",b),(!o||k&1)&&v!==(v=i[0].author.firstName+"")&&F(c,v),(!o||k&1)&&T!==(T=i[0].author.lastName+"")&&F(N,T),(!o||k&33&&y!==(y=i[6]()?i[5]("/profile"):i[5](`/profile/${i[0].author.id}`)))&&d(_,"href",y),k&16&&(q=i[4]!==null&&!i[6]()),q?r?(r.p(i,k),k&16&&g(r,1)):(r=R(i),r.c(),g(r,1),r.m(P.parentNode,P)):r&&(U(),A(r,1,1,()=>{r=null}),W())},i(i){o||(C(()=>{s||(s=K(e,B,{},!0)),s.run(1)}),C(()=>{E&&E.end(1),j=V(_,B,{delay:100}),j.start()}),g(r),o=!0)},o(i){s||(s=K(e,B,{},!1)),s.run(0),j&&j.invalidate(),E=X(_,B,{}),A(r),o=!1},d(i){i&&D(e),i&&s&&s.end(),i&&D(f),i&&D(_),i&&E&&E.end(),i&&D($),r&&r.d(i),i&&D(P)}}}function R(n){let e,l,t,s,f,_;const h=[fe,re],a=[];function b(u,p){return u[3]?0:1}return l=b(n),t=a[l]=h[l](n),{c(){e=w("div"),t.c(),d(e,"class","self-center my-2")},m(u,p){S(u,e,p),a[l].m(e,null),_=!0},p(u,p){let v=l;l=b(u),l===v?a[l].p(u,p):(U(),A(a[v],1,1,()=>{a[v]=null}),W(),t=a[l],t?t.p(u,p):(t=a[l]=h[l](u),t.c()),g(t,1),t.m(e,null))},i(u){_||(g(t),C(()=>{f&&f.end(1),s=V(e,B,{delay:100}),s.start()}),_=!0)},o(u){A(t),s&&s.invalidate(),f=X(e,B,{}),_=!1},d(u){u&&D(e),a[l].d(),u&&f&&f.end()}}}function re(n){let e,l;return e=new Y({props:{class:"text-base px-10 py-1 mx-12 my-2",clickHandler:n[7],$$slots:{default:[ue]},$$scope:{ctx:n}}}),{c(){I(e.$$.fragment)},m(t,s){O(e,t,s),l=!0},p(t,s){const f={};s&1024&&(f.$$scope={dirty:s,ctx:t}),e.$set(f)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function fe(n){let e,l;return e=new Y({props:{class:"text-base px-10 py-1 mx-12 my-2",clickHandler:n[8],$$slots:{default:[ce]},$$scope:{ctx:n}}}),{c(){I(e.$$.fragment)},m(t,s){O(e,t,s),l=!0},p(t,s){const f={};s&1024&&(f.$$scope={dirty:s,ctx:t}),e.$set(f)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function ue(n){let e;return{c(){e=H("Zapisuj\u0119 si\u0119!")},m(l,t){S(l,e,t)},d(l){l&&D(e)}}}function ce(n){let e;return{c(){e=H("Wypisuj\u0119 si\u0119!")},m(l,t){S(l,e,t)},d(l){l&&D(e)}}}function _e(n){let e,l,t,s,f=n[0].title+"",_,h,a,b,u,p,v,c=n[0].location.city.name+"",M,T,N=n[0].location.voivodeship.name+"",y,j,E,$,q,P;u=new ae({});let o=n[1]&&Q(n);return{c(){e=w("div"),l=w("div"),t=w("button"),s=w("div"),_=H(f),h=G(),a=w("div"),b=w("div"),I(u.$$.fragment),p=G(),v=w("div"),M=H(c),T=H(", "),y=H(N),j=G(),o&&o.c(),d(s,"class","font-bold text-left text-cocoa"),d(b,"class","w-6 mx-2 text-cocoa"),d(v,"class","text-cocoa text-left"),d(a,"class","flex flex-row items-center"),d(t,"class","hover:cursor-pointer"),d(l,"class","flex flex-col"),d(e,"class",E=(n[3]?"bg-tusk":"bg-olive")+" rounded-2xl m-2 p-2")},m(r,i){S(r,e,i),m(e,l),m(l,t),m(t,s),m(s,_),m(t,h),m(t,a),m(a,b),O(u,b,null),m(a,p),m(a,v),m(v,M),m(v,T),m(v,y),m(l,j),o&&o.m(l,null),$=!0,q||(P=le(t,"click",function(){ne(n[2])&&n[2].apply(this,arguments)}),q=!0)},p(r,[i]){n=r,(!$||i&1)&&f!==(f=n[0].title+"")&&F(_,f),(!$||i&1)&&c!==(c=n[0].location.city.name+"")&&F(M,c),(!$||i&1)&&N!==(N=n[0].location.voivodeship.name+"")&&F(y,N),n[1]?o?(o.p(n,i),i&2&&g(o,1)):(o=Q(n),o.c(),g(o,1),o.m(l,null)):o&&(U(),A(o,1,1,()=>{o=null}),W()),(!$||i&8&&E!==(E=(n[3]?"bg-tusk":"bg-olive")+" rounded-2xl m-2 p-2"))&&d(e,"class",E)},i(r){$||(g(u.$$.fragment,r),g(o),$=!0)},o(r){A(u.$$.fragment,r),A(o),$=!1},d(r){r&&D(e),Z(u),o&&o.d(),q=!1,P()}}}function me(n,e,l){let t,s;z(n,oe,c=>l(4,t=c)),z(n,ie,c=>l(5,s=c));let{data:f}=e,{areDetailsShown:_}=e,{clickHandler:h}=e,a=!1;const b=()=>{t!==null&&L(`announcements/isEnrolled/${f.id}`,"GET").then(c=>c.json()).then(c=>l(3,a=c))},u=()=>t!==null&&t.id===f.author.id,p=()=>{L(`announcements/enroll/${f.id}`,"GET").then(c=>b())},v=()=>{L(`announcements/unenroll/${f.id}`,"GET").then(c=>b())};return b(),n.$$set=c=>{"data"in c&&l(0,f=c.data),"areDetailsShown"in c&&l(1,_=c.areDetailsShown),"clickHandler"in c&&l(2,h=c.clickHandler)},[f,_,h,a,t,s,u,p,v]}class he extends x{constructor(e){super(),ee(this,e,me,_e,te,{data:0,areDetailsShown:1,clickHandler:2})}}export{he as A};
