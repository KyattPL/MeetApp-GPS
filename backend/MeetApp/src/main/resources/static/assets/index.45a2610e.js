import{S as K,i as Q,s as W,ad as Y,e as j,c as H,d as $,f as k,g as O,m as T,h as w,w as J,t as g,k as N,l as b,n as G,ae as Z,o as L,p as I,q as F,r as z,u as x,v as ee,af as te,ag as ne,M as oe,ab as le}from"./index.9ce14893.js";import{A as ae}from"./AddPostButton.4cdf5838.js";import{A as re}from"./AnnouncementListElem.4250eb56.js";import{F as se}from"./Footer.721c525f.js";import{H as ie,f as ce}from"./Header.4fcae652.js";import{H as ue}from"./HelpButton.490afcb6.js";import{S as fe,a as pe}from"./SortFilterColumn.9e3f978a.js";import{e as me}from"./fetchWrapper.5ae2c67b.js";import{c as de,n as ge,b as he,f as we,d as _e,u as be}from"./stores.a55d8e37.js";import"./MdAdd.0b472eb6.js";import"./Button.1637db92.js";import"./MdDelete.f350fb1c.js";import"./SelectablePill.e9ffe0d9.js";import"./Svelecte.fb6847b4.js";function R(o,t,n){const a=o.slice();return a[19]=t[n],a}function ze(o){let t,n,a;return{c(){t=j("p"),t.textContent="Na tej stronie mo\u017Cesz wykona\u0107 nast\u0119puj\u0105ce rzeczy:",n=$(),a=j("ul"),a.innerHTML=`<li><span class="font-bold">Przegl\u0105danie post\xF3w</span> - znajduje si\u0119 na \u015Brodku strony, pozwala na zapoznanie si\u0119 z tre\u015Bci\u0105 i szczeg\xF3\u0142ami post\xF3w,
                klikaj\u0105c na nie na li\u015Bcie. Mo\u017Cna te\u017C zobaczy\u0107 informacje o autorze posta, zapisa\u0107 si\u0119 lub wypisa\u0107 z posta oraz przej\u015B\u0107 na profil autora.</li> 
            <li><span class="font-bold">Filtrowanie</span> - znajduje si\u0119 po lewej stronie strony, pozwala na ograniczenie liczby post\xF3w, wybieraj\u0105c kategori\u0119,
                miejscowo\u015B\u0107 lub nazw\u0119 posta. Mo\u017Cna te\u017C posortowa\u0107 posty wed\u0142ug daty lub liczby zapisanych.</li> 
            <li><span class="font-bold">Tworzenie</span> - znajduje si\u0119 w prawym dolnym rogu strony, pozwala na dodawanie w\u0142asnych post\xF3w, wype\u0142niaj\u0105c
                formularz z tytu\u0142em, kategori\u0105, opisem i innymi informacjami. Tworzenie dost\u0119pne jest tylko dla zalogowanych u\u017Cytkownik\xF3w.</li>`,k(a,"class","list-disc list-inside")},m(e,c){O(e,t,c),O(e,n,c),O(e,a,c)},p:z,d(e){e&&L(t),e&&L(n),e&&L(a)}}}function U(o){let t,n,a,e,c,l,u,s,f;return{c(){t=j("div"),n=j("p"),a=x(o[1]),e=$(),c=j("button"),c.textContent="X",k(n,"class","w-full text-center text-ivory self-center"),k(c,"class","text-ivory font-bold"),k(t,"class","flex flex-row bg-pine w-72 h-16 m-auto rounded p-4 absolute bottom-8 right-8")},m(p,_){O(p,t,_),w(t,n),w(n,a),w(t,e),w(t,c),u=!0,s||(f=J(c,"click",o[14]),s=!0)},p(p,_){(!u||_&2)&&ee(a,p[1])},i(p){u||(l&&l.end(1),u=!0)},o(p){l=te(t,ce,{delay:50,duration:300}),u=!1},d(p){p&&L(t),p&&l&&l.end(),s=!1,f()}}}function ye(o){return{c:z,m:z,p:z,i:z,o:z,d:z}}function ke(o){let t,n,a=o[2],e=[];for(let l=0;l<a.length;l+=1)e[l]=V(R(o,a,l));const c=l=>b(e[l],1,1,()=>{e[l]=null});return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=oe()},m(l,u){for(let s=0;s<e.length;s+=1)e[s].m(l,u);O(l,t,u),n=!0},p(l,u){if(u&140){a=l[2];let s;for(s=0;s<a.length;s+=1){const f=R(l,a,s);e[s]?(e[s].p(f,u),g(e[s],1)):(e[s]=V(f),e[s].c(),g(e[s],1),e[s].m(t.parentNode,t))}for(N(),s=a.length;s<e.length;s+=1)c(s);G()}},i(l){if(!n){for(let u=0;u<a.length;u+=1)g(e[u]);n=!0}},o(l){e=e.filter(Boolean);for(let u=0;u<e.length;u+=1)b(e[u]);n=!1},d(l){le(e,l),l&&L(t)}}}function V(o){let t,n;function a(){return o[15](o[19])}return t=new re({props:{areDetailsShown:o[3]===o[19].id,data:o[19],clickHandler:a}}),{c(){H(t.$$.fragment)},m(e,c){T(t,e,c),n=!0},p(e,c){o=e;const l={};c&12&&(l.areDetailsShown=o[3]===o[19].id),c&4&&(l.data=o[19]),c&4&&(l.clickHandler=a),t.$set(l)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){b(t.$$.fragment,e),n=!1},d(e){I(t,e)}}}function je(o){return{c:z,m:z,p:z,i:z,o:z,d:z}}function X(o){let t,n,a;return n=new ae({props:{class:"!bottom-36",pageType:"announcements"}}),{c(){t=j("div"),H(n.$$.fragment),k(t,"class","group")},m(e,c){O(e,t,c),T(n,t,null),a=!0},i(e){a||(g(n.$$.fragment,e),a=!0)},o(e){b(n.$$.fragment,e),a=!1},d(e){e&&L(t),I(n)}}}function $e(o){let t,n,a,e,c,l,u,s,f,p,_,C,v,E,P,B,D,S,A,M,r;n=new ie({props:{pageType:"announcements"}}),e=new ue({props:{$$slots:{default:[ze]},$$scope:{ctx:o}}}),l=new fe({props:{sortOptions:o[5]}});let i=o[0]&&U(o);_=new pe({props:{sortOptions:o[5]}});let h={ctx:o,current:null,token:null,hasCatch:!1,pending:je,then:ke,catch:ye,value:18,blocks:[,,,]};Y(o[6],h);let m=o[4]!==null&&X();return S=new se({props:{pageType:"announcements"}}),{c(){t=j("div"),H(n.$$.fragment),a=$(),H(e.$$.fragment),c=$(),H(l.$$.fragment),u=$(),i&&i.c(),s=$(),f=j("div"),p=j("div"),H(_.$$.fragment),C=$(),v=j("div"),h.block.c(),E=$(),P=j("div"),B=$(),m&&m.c(),D=$(),H(S.$$.fragment),k(p,"class","hidden lg:block lg:w-1/3 lg:bg-green-mist overflow-auto"),k(v,"class","flex flex-col h-full lg:w-2/3 overflow-auto"),k(P,"class","hidden lg:block lg:w-1/3"),k(f,"class","h-[calc(100%-10rem)] lg:h-[calc(100%-4rem)] lg:flex lg:flex-row"),k(f,"id","postsContainer"),k(t,"class","h-screen")},m(d,y){O(d,t,y),T(n,t,null),w(t,a),T(e,t,null),w(t,c),T(l,t,null),w(t,u),i&&i.m(t,null),w(t,s),w(t,f),w(f,p),T(_,p,null),w(f,C),w(f,v),h.block.m(v,h.anchor=null),h.mount=()=>v,h.anchor=null,w(f,E),w(f,P),w(t,B),m&&m.m(t,null),w(t,D),T(S,t,null),A=!0,M||(r=J(f,"scroll",o[8]),M=!0)},p(d,[y]){o=d;const q={};y&4194304&&(q.$$scope={dirty:y,ctx:o}),e.$set(q),o[0]?i?(i.p(o,y),y&1&&g(i,1)):(i=U(o),i.c(),g(i,1),i.m(t,s)):i&&(N(),b(i,1,1,()=>{i=null}),G()),Z(h,o,y),o[4]!==null?m?y&16&&g(m,1):(m=X(),m.c(),g(m,1),m.m(t,D)):m&&(N(),b(m,1,1,()=>{m=null}),G())},i(d){A||(g(n.$$.fragment,d),g(e.$$.fragment,d),g(l.$$.fragment,d),g(i),g(_.$$.fragment,d),g(h.block),g(m),g(S.$$.fragment,d),A=!0)},o(d){b(n.$$.fragment,d),b(e.$$.fragment,d),b(l.$$.fragment,d),b(i),b(_.$$.fragment,d);for(let y=0;y<3;y+=1){const q=h.blocks[y];b(q)}b(m),b(S.$$.fragment,d),A=!1},d(d){d&&L(t),I(n),I(e),I(l),i&&i.d(),I(_),h.block.d(),h.token=null,h=null,m&&m.d(),I(S),M=!1,r()}}}function Pe(o,t,n){let a,e,c,l,u,s;F(o,ge,r=>n(10,a=r)),F(o,he,r=>n(11,e=r)),F(o,we,r=>n(12,c=r)),F(o,_e,r=>n(13,l=r)),F(o,ne,r=>n(16,u=r)),F(o,be,r=>n(4,s=r));let f=!1,p="";u(r=>{let i=r.__file.last.shortPath;return i==="/announcements/create"?(n(0,f=!0),n(1,p="Pomy\u015Blnie utworzono post!")):i==="/announcements/edit"&&(n(0,f=!0),n(1,p="Pomy\u015Blnie edytowano post!")),!0});let _=[],C=null,v=[{id:1,name:"Od najnowszych"},{id:2,name:"Od najstarszych"},{id:3,name:"Po liczbie zapisanych rosn\u0105co"},{id:4,name:"Po liczbie zapisanych malej\u0105co"}],E,P=0;de();const B=r=>{C!==r?n(3,C=r):n(3,C=null)},D=()=>{const r=document.getElementById("postsContainer");r.offsetHeight+r.scrollTop===r.scrollHeight&&n(9,P=P+1)},S=(r,i)=>{me(`announcements?page=${r}&`+i.toString(),"GET").then(h=>h.json()).then(h=>n(2,_=[..._,...h]))},A=()=>n(0,f=!1),M=r=>B(r.id);return o.$$.update=()=>{if(o.$$.dirty&15360&&(n(2,_=[]),n(9,P=0)),o.$$.dirty&15872){let r=new URLSearchParams;for(let i of l)r.append("categoryIds",i);for(let i of c)r.append("locationIds",i.id);e!==null&&r.append("sortOption",e.toString()),a!==null&&r.append("nameSearch",a),S(P,r)}},[f,p,_,C,s,v,E,B,D,P,a,e,c,l,A,M]}class qe extends K{constructor(t){super(),Q(this,t,Pe,$e,W,{})}}export{qe as default};
